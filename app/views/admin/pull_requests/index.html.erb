<h2 class="text-center">Manage Pull Requests</h2>
<p class="amount">Number of items: <%= @pull_requests_size %></p>
<table class="table table-hover table-striped">
  <thead>
    <tr>
      <th>#</th>
      <th>Url</th>
      <th>Created By</th>
      <th>Created At</th>
      <th>Updated At</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @pull_requests.each_with_index do |pull_request, index| %>
      <tr>
        <td>
          <% params[:page] ||= "1" %>
          <%= index_for params[:page], index, Settings.admin.pull_request.per_page %>
        </td>
        <td>
          <% url = pull_request.url + "/files" %>
          <%= link_to url, url, target: "_blank" %>
        </td>
        <td><%= pull_request.user_name %></td>
        <td><%= l pull_request.created_at, format: :long %></td>
        <td><%= l pull_request.updated_at, format: :long %></td>
        <td>
          <h5><span class="<%= pull_request.status %>"><%= pull_request.status %></span></h5>
        </td>
        <% if current_user.admin? || current_user.trainer? %>
          <td><%= link_to "Delete", admin_pull_request_path(pull_request), method: :delete,
            class: "btn btn-xs btn-danger", data: {confirm: "Are you sure?"} %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="text-center">
  <%= paginate @pull_requests, theme: "twitter-bootstrap-4" %>
</div>
